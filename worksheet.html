<fw-worksheet>

    <div style="margin-left: 1%;">
        <select onchange={ setDisplayType }>
            <option value="fw-table">Table</option>
            <option value="fw-speedometer">Speedometer</option>
        </select>
        <button class="btn btn-primary" onclick={ newCell }>New</button>
    </div>

    <div class="row" style="border: solid thin black; margin-top:2%; margin-left:1%; margin-right: 1%;">
        <div each={ cells } style="border: solid thin black;" class="col-md-6">
            <button style="float:right; margin-top:1%;" class="btn btn-xs btn-danger" onclick={ parent.remove } >X</button>
            <fw-cell tagType={ displayComponent } cell={ cell }></fw-cell>
        </div>
    </div>
    <script>
        var self = this;
        self.cells = opts.cells;

        var newDisplayType = 'fw-table';

        self.setDisplayType = function setDisplayType(e){
            newDisplayType = e.target.value
            return false;
        };

        self.newCell = function newCell(){
            self.cells.push(
                { displayComponent: newDisplayType, cell: new Cell() });
            self.update();
        };

        self.remove = function remove(event){
            var _cell = event.item;
            var idx = self.cells.indexOf(_cell);
            self.cells = R.remove(idx,1,self.cells);
        };

    </script>

</fw-worksheet>
